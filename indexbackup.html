
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneBill - Save Money Automatically</title>
    <meta name="description" content="OneBill - Automatically save money with our AI-powered utility platform. Manage electricity, gas, broadband and more. Sign up for smarter savings today!">
    <meta name="keywords" content="OneBill, utility bills, save money, AI-powered, electricity, gas, broadband">
    <meta name="author" content="OneBill">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="shortcut icon" type="image/x-icon" href="/images/onebilFav.png">
    <style>
        .dropdown-menu.show {
          display: block;
          position: absolute;
        }
    </style>
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "imymdn2o1e");
    </script>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-G9DEENBZJF"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-G9DEENBZJF");
    </script>

    <script type="text/javascript">
    _linkedin_partner_id = "5852474";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);
    </script>

    <script type="text/javascript">
    (function (l) {
      if (!l) {
        window.lintrk = function (a, b) {
          window.lintrk.q.push([a, b]);
        };
        window.lintrk.q = [];
      }
      var s = document.getElementsByTagName("script")[0];
      var b = document.createElement("script");
      b.type = "text/javascript";
      b.async = true;
      b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
      s.parentNode.insertBefore(b, s);
    })(window.lintrk);
    </script>
</head>
<body>
    <header>
        <nav class="navbar fixed-top navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid ps-lg-5 pe-lg-5">
                <a class="navbar-brand" href="index.html"><img src="images/onebill-logo.png" alt="OneBill Logo" height="45"></a>
                <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mb-2 ms-lg-auto mb-lg-0 gap-2">
                        <li class="nav-item"><a class="nav-link" href="book-a-call.html">Book A Call</a></li>
                        <li class="nav-item"><a class="nav-link" href="how-it-works.html">How It Works</a></li>
                        <li class="nav-item"><a class="nav-link" href="price.html">Pricing</a></li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="guidesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Guides</a>
                            <ul class="dropdown-menu" aria-labelledby="guidesDropdown">
                                <li><a class="dropdown-item" href="smartmeters.html">Smart Meters</a></li>
                                <li><a class="dropdown-item" href="solar-batt-ev.html">Solar, Batteries & EV's</a></li>
                                <li><a class="dropdown-item" href="tou.html">What Are Time of Use Tariffs (ToU)</a></li>
                                <li><a class="dropdown-item" href="AutoSwitch.html">AutoSwitch'ing Explained</a></li>
                                <li><a class="dropdown-item" href="Meter-Readings.html">Meter Readings</a></li>
                                <li><a class="dropdown-item" href="EstimatedBills.html">Estimated Bills</a></li>
                                <!--<li><a class="dropdown-item" href="Broadbandswitching.html">BroadBand Switching Explained</a></li>-->
                                <!--<li><a class="dropdown-item" href="BroadbandTvMobile.html">Broadband, TV & Mobile</a></li>-->
                                <!--<li><a class="dropdown-item" href="AutoSwitchExplained.html">AutoSwitch'ing Explained</a></li>-->
                                <li><a class="dropdown-item" href="DownloadingHDF.html">Downloading Your HDF File</a></li>
                            </ul>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="contact-us.html">Contact Us</a></li>
                        <li class="nav-item">
                            <a class="btn btn-success btn-small mr-10" id="redirectButton" href="#">Sign Up</a>
                            <a class="btn btn-outline-success btn-small" href="https://admin.onebill.ie/portal/login">Login</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <section class="oneBillBanner" id="selectBanner">
        <div class="container">
            <div class="row row1">
                <div class="col-md-6 head">
                    <div class="text-start">
                        <h1>Do You Hate Bills? <br> Embrace AI-Powered Utility Management</h1>
                        <h2>We Automatically Switch & Save Our Users â‚¬1200 a Year on Average!!!</h2>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="right-section">
                        <h3>Start Saving Now</h3>
                        <div class="d-grid gap-3">
                            <div class="upload-areaa">
                                <input class="file-input" type="file" id="fileInput" multiple accept=".pdf,.png,.jpg,.jpeg" style="display:none;" name="bill[]">
                                <div class="container1">
                                    <div class="card-body card_body">
                                        <div class="file-upload">
                                            <label for="fileInput" style="display:block; cursor:pointer;">
                                                <div class="header">
                                                    <img class="icon1" src="images/2min.png" alt="2 Mins">
                                                    <h2>Upload Your Bills</h2>
                                                    <p>For an instant saving calculation</p>
                                                </div>
                                                <div class="maindrag">
                                                    <div class="icondrag">
                                                        <img src="images/up.png" alt="">
                                                    </div>
                                                    <div class="upload-instructions">
                                                        <p>Browse Files </p>
                                                        <p>& Photo's</p>
                                                    </div>
                                                </div>
                                                <div class="upload-area">
                                                    <input class="file-input" type="file" id="cameraInput" capture="camera" style="display:none;" name="bill[]">
                                                    <label for="fileInput" class="upload-button">
                                                        <img class="icon" src="images/download.png" alt="Upload Icon">
                                                        Upload / Take Photo
                                                    </label>
                                                    <div id="fileName" class="file-name">No file selected</div>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Container to display uploaded files -->
                            <div class="uploaded-files-container" id="uploadedFilesContainer">
                                <!-- Uploaded files will be displayed here -->
                            </div>
    
                            <!-- Hidden process button -->
                            <button type="button" class="btn btn-primary" id="processButton" style="display:none;">Process Bills</button>
                            
                            <p class="pro-tip">Tip: PDFs Work Best <span class="text-muted"><a href="#">Need help..?</a></span><br>
                                For pictures: Ensure all pages are fully visible and clear
                            </p>
                            <a href="book-a-call.html" type="button" class="btn btn-outline-primary">Book a FREE Call <br> <span>With a Utility Specialist</span></a>
                            <button onclick="showEircode()" type="button" class="btn btn-outline-primary">Sign Me Up <br> <span>I Understand How OneBill Works</span></button>
                        </div>
                    </div>
                </div>
                <div class="record-savings">
                    <span>The most accurate way to save is to use real data.</span> <br>
                    We'll analyse your usage & rates, then match you to the most appropriate tariffs from the whole marketplace. <br>
                    If you're on a great deal already, we'll tell you! <br>
                    By using our bill analyser you agree to OneBillâ€™s Terms and Conditions.
                </div>
            </div>
        </div>
    </section>

    <div class="loader-container" style="display:none;">
        <div class="loader"></div>
        <div class="loader-message">Hold tightâ€¦<br>Weâ€™re reading your bills<br>and searching for the best deals.<br>This may take a minute.
        </div>    
    </div>

    <section class="timelinesection" >
        <h2>So How Does It Work?</h2>
        <div class="timeline-container">
            <div class="timeline-line">
                <div class="dot-container">
                    <div class="timeline-dot dot-1"></div>
                </div>
                <div class="dot-container">
                    <div class="timeline-dot dot-2"></div>
                </div>
                <div class="dot-container">
                    <div class="timeline-dot dot-3"></div>
                </div>
                <div class="dot-container">
                    <div class="timeline-dot dot-4"></div>
                </div>
                <div class="dot-container">
                    <div class="timeline-dot dot-5"></div>
                </div>
                <div class="dot-container">
                    <div class="timeline-dot dot-6"></div>
                </div>
                <div class="dot-container">
                    <div class="timeline-dot dot-7"></div>
                    <div class="customdot7"></div>
                </div>
                
                <div class="timeline-box box-1">
                    <img src="images/1.png" alt="Upload Icon">
                    <span>Upload Some Bills</span>
                </div>
                <div class="timeline-box box-2">
                    <img src="images/2.png" alt="Saving Icon">
                    <span>See Your Accurate Saving</span>
                </div>
                <div class="timeline-box box-3">
                    <img src="images/3.png" alt="Agent Icon">
                    <span>OneBill Becomes Your Utility Agent</span>
                </div>
                <div class="timeline-box box-4">
                    <img src="images/5.png" alt="AI Icon">
                    <span>Bills Analysed With AI / ML Intelligence</span>
                </div>
                <div class="timeline-box box-5">
                    <img src="images/4 (2).png" alt="Home Icon">
                    <span>Tell Us About Your Home, Usage & Preferences</span>
                </div>
                <div class="timeline-box box-6">
                    <img src="images/7.png" alt="Tariff Icon">
                    <span>Tariffs Checked 24/7</span>
                </div>
                <div class="timeline-box box-7">
                    <img src="images/6.png" alt="Save Money Icon">
                    <span>Save Money Automatically</span>
                </div>
            </div>
        </div>
    </section>


    <section class="sectionhaveyourbill" id="scrool-alert">
        <div class="container2 text-center">
            <div class="header-container">
                <h2>Don't have any bill's to hand?</h2>
            </div>
            <img class="fivemin" src="images/5min.png" alt="5 Mins">
            <div class="container mt-3">
                <input type="text" class="form-control mt-3" placeholder="Enter Your Address To See How Much You Can Save" id="eir-code" name="eir-code" onclick="showDropdown()" oninput="showDropdown()">
                <div class="dropdown">
                    <div class="dropdown-menu" id="dropdown-menu">
                    </div>
                </div>
                <div id="eircodeError" class="text-danger" style="display:none;">Please enter your address.</div>
            </div>
            
            <div class="container mt-3">
                <div id="addressDiv" style="display: none">
                    <input type="text" class="form-control mt-3" placeholder="Result" id="addressInput">
                </div>
            
                <div>
                    <input type="email" class="form-control mt-3" placeholder="Email" id="email" name="email">
                    <div id="emailError" class="text-danger" style="display:none;">Please enter a valid email address (e.g., example@example.com).</div>
                </div>
            
                <div>
                    <input type="tel" class="form-control mt-3" placeholder="Phone Number" maxlength="10" id="phone" name="phone">
                    <div id="phoneError" class="text-danger" style="display:none;">Please enter a valid 10-digit phone number.</div>
                </div>
            </div>

            <h3 class="mt-4 mb-3">Select Your Services</h3>
            <div id="servicesError" class="text-danger" style="display:none;">Please select at least one service.</div>
            
            <div class="icon-container">
                <label class="icon-box">
                    <input type="checkbox" name="services" value="electricity" class="checkbox-input" id="input1">
                    <img src="images/101.png" alt="Electricity">
                    <p>Electricity</p>
                </label>
                <label class="icon-box">
                    <input type="checkbox" name="services" value="gas" class="checkbox-input" id="input2">
                    <img src="images/102.png" alt="Gas">
                    <p>Gas</p>
                </label>
                <label class="icon-box">
                    <input type="checkbox" name="services" value="broadband" class="checkbox-input" id="input3">
                    <img src="images/103.png" alt="Broadband">
                    <p>Broadband</p>
                </label>
            </div>
           
            <button class="btn btn-start" onclick="goToOnboard()">Start</button>
        </div>
    </section>

    <section class="pricing-section">
        <div class="container">
            <h2>Fully Managed Utilities</h2>
            <div class="row">
                <div class="col-12 col-md-4">
                    <div class="pricing-card pricingcard">
                        <h3>Savvy Saver</h3>
                        <ul class="features">
                            <li><b>Manage Up to 3 Utilities</b></li>
                            <li><b>AutoSwitch</b> for Energy</li>
                            <li><b>Optimised</b> Every Day</li>
                            <li><b>Full Market</b> Access</li>
                            <li><b>EV / Battery / Solar</b> Planning</li>
                            <li><b>Smart-Tariff</b> Management</li>
                            <li><b>Savings Guarantee</b>*</li>
                            <li>Cancel Anytime</li>
                        </ul>
                        <div class="price price10">â‚¬10 p/m</div>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="pricing-card inactive">
                        <h3>Super Saver</h3>
                        <ul class="features">
                            <li>Manage Up to 5 Utilities</li>
                            <li>Split the bills - 1 Housemate</li>
                            <li>AutoSwitch for Energy</li>
                            <li>Optimised Every Day</li>
                            <li>Full Market Access</li>
                            <li>EV / Battery / Solar Planning</li>
                            <li>Smart-Tariff Management</li>
                            <li>Savings Guarantee*</li>
                            <li>Cancel Anytime</li>
                        </ul>
                        <div class="price">â‚¬15 p/m</div>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="pricing-card inactive">
                        <h3>Saver Pro</h3>
                        <ul class="features">
                            <li>Manage Up to 8 Utilities</li>
                            <li>Split the bills - 5 Housemate</li>
                            <li>AutoSwitch for Energy</li>
                            <li>Optimised Every Day</li>
                            <li>Full Market Access</li>
                            <li>EV / Battery / Solar Planning</li>
                            <li>Smart-Tariff Management</li>
                            <li>Savings Guarantee*</li>
                            <li>Cancel Anytime</li>
                        </ul>
                        <div class="price">â‚¬25 p/m</div>
                    </div>
                </div>
            </div>
            <div class="disclaimer">
                *If we can't save you as much as your OneBill subscription fee, our service <b>is FREE until we can!</b>
            </div>
        </div>
    </section>
  
    <section class="appointment-section">
        <div class="appointment-text">
            <h3>Do you have questions?<br>We're here to help!</h3>
            <p>Let's jump on a call &gt;</p>
        </div>
        <div class="appointment-card">
            <div class="calendly-inline-widget" data-url="https://calendly.com/onebill-adem/utility-bills-ask-me-anything?hide_event_type_details=1&hide_gdpr_banner=1"></div>
            <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
        </div>
    </section>
  
    <section class="unique-services-section">
        <h1 class="unique-services-title">Why Join <span>OneBill?</span></h1>
        <div class="unique-row">
            <div class="unique-service">
                <img src="images/join1.png" alt="Precise Payments" class="unique-icon">
                <h2 class="unique-service-title">Precise Payments</h2>
                <p class="unique-service-description">Our algorithms analyse every bill, ensuring you pay the right amount on a schedule that suits you.</p>
            </div>
            <div class="unique-service">
                <img src="images/join2.png" alt="Truly Independent" class="unique-icon">
                <h2 class="unique-service-title">Truly Independent</h2>
                <p class="unique-service-description">Our decisions are rooted in data, not commissions. Our focus is solely on what's best for you.</p>
            </div>
            <div class="unique-service">
                <img src="images/join3.png" alt="End of Billing Chaos" class="unique-icon">
                <h2 class="unique-service-title">End of Billing Chaos</h2>
                <p class="unique-service-description">We consolidate all your utilities into one transparent bill, available 24/7 in your customer portal.</p>
            </div>
        </div>
    </section>


    <section class="faq-section">
        <h2>Frequently Asked <span>Questions</span></h2>
        <div class="accordion" id="faqAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq1">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        How long does it take to see savings?
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        The time it takes to see savings can vary based on your energy usage and the plan you select. Typically, customers start seeing savings within the first few billing cycles.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq2">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Is there a contract or long-term commitment?
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        No, there is no long-term commitment. You can cancel anytime if you are not satisfied with the service.
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="faq3">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Is my personal information safe?
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                    <div class="accordion-body">
                        Yes, your personal information is safe. We use state-of-the-art encryption to protect your data.
                    </div>
                </div>
            </div>
        </div>
        <a href="#" class="btn-faq">Read More FAQs</a>
    </section>

    <footer class="custom-footer container-fluid">
        <div class="row">
            <!-- Logo and Company Info -->
            <div class="col-md-6 col-lg-4">
                <div class="brand-logo">
                    <img src="images/onebill-logo.png" alt="OneBill Logo" class="img-fluid">
                </div>
                <div class="footer-description">
                    <p><strong>OneBill Utilities Ltd is a registered company in Ireland.</strong></p>
                    <p><small><strong>CRO:</strong> 658186</small></p>
                    <p>&copy; Copyright 2024. All rights reserved.</p>
                </div>
    
                <!-- Social Media Icons -->
                <div class="social-icons-group">
                    <a href="https://twitter.com/OneBill_Ireland" target="_blank"><i class="fab fa-twitter"></i></a>
                    <a href="https://www.instagram.com/onebill_utilities" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/company/onebillutilities/" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://wa.me/+353858007335" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    <a href="/cdn-cgi/l/email-protection#254c4b434a654a4b40474c49490b4c40"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
    
            <!-- Certifications -->
            <div class="col-md-6 col-lg-4 align-text-right">
                <div class="certification-badge">
                    <img src="images/ei.png" alt="Certification 1" class="img-fluid">
                </div>
            </div>
    
            <!-- Quick Links and Policies -->
            <div class="col-md-12 col-lg-4">
                <div class="row">
                    <div class="col-6">
                        <h5 class="quick-links-section">Quick Links</h5>
                        <div class="link-container">
                            <a href="index.html">Home</a>
                            <a href="how-it-works.html">How It Works</a>
                            <a href="faqs.html">FAQs</a>
                            <a href="contact-us.html">Contact Us</a>
                        </div>
                    </div>
                    <div class="col-6">
                        <h5 class="policies-section">Policies</h5>
                        <div class="link-container">
                            <a href="Terms-Conditions.html">Terms &amp; Conditions</a>
                            <a href="privacy-policy.html">Privacy Policy</a>
                            <a href="cookies.html">Cookie Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Chat Button -->
        <a href="https://wa.me/353858007335" class="btn btn-outline-success chat-button-fixed shadow-sm">
            <i class="fab fa-whatsapp"></i> Chat With Us
        </a>

        <div class="modal fade welcome" id="girisModal" tabindex="-1" aria-labelledby="girisModalLabel" aria-hidden="true" style="display:none;">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="girisModalLabel">Welcome!</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  Welcome! Since you have been referred by Claire Clarkson, you will be able to benefit from our service for 2 months free of charge.
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
        </div>

    </footer>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>

    <script>
       document.addEventListener("DOMContentLoaded", function() {
            const navLinks = document.querySelectorAll('.nav-link');
        
            navLinks.forEach(function(navLink) {
                navLink.addEventListener('click', function(event) {
                    const targetId = navLink.getAttribute('data-target');
        
                    if (targetId) {
                        event.preventDefault(); 
                        const targetElement = document.getElementById(targetId);
        
                        
                        targetElement.scrollIntoView({ behavior: 'smooth' });
        
                        navLinks.forEach(function(link) {
                            link.classList.remove('active');
                        });
        
                        navLink.classList.add('active');
                    }
                });
            });
        });
    </script>
    
  <script>
document.addEventListener("DOMContentLoaded", function() {
    // Fetch necessary elements
    const params = new URLSearchParams(window.location.search);
    const fileInput = document.getElementById('fileInput');
    const uploadArea = document.querySelector('.upload-areaa');
    const uploadedFilesContainer = document.getElementById('uploadedFilesContainer');
    const processButton = document.getElementById('processButton');
    const fileNamePlaceholder = document.getElementById('fileName');
    const loaderContainer = document.querySelector('.loader-container');
    
    let filesArray = [];
    const maxFiles = 5;

    const validFileTypes = ['application/pdf', 'image/png', 'image/jpeg']; // Allowed file types

    // If reference is 'ClaireClarkson', show modal
    const tok = params.get('reference');
    if (tok === 'ClaireClarkson') {
        document.querySelector('.welcome').style.display = 'block';
        const girisModal = new bootstrap.Modal(document.getElementById('girisModal'));
        girisModal.show();
    }

    // Handle file input change
    fileInput.addEventListener('change', function() {
        handleFiles(this.files);
        toggleProcessButton();
    });

    // Handle drag-and-drop
    uploadArea.addEventListener('dragover', (event) => event.preventDefault());
    uploadArea.addEventListener('dragleave', () => uploadArea.classList.remove('dragging'));
    uploadArea.addEventListener('drop', function(event) {
        event.preventDefault();
        uploadArea.classList.remove('dragging');
        const files = event.dataTransfer.files;
        handleFiles(files);
        toggleProcessButton();
    });

    // Process button click event
    processButton.addEventListener('click', function() {
        if (filesArray.length > 0) {
            showLoader();
            processFiles();  // Start processing files
        } else {
            alert("Please upload a file to process.");
        }
    });

    // Function to handle file selection
    function handleFiles(files) {
        if (filesArray.length + files.length > maxFiles) {
            displayErrorMessage(`You can only upload a maximum of ${maxFiles} files.`);
            return;
        }

        Array.from(files).forEach(file => {
            if (isValidFileType(file)) {
                filesArray.push(file);
                displayFile(file);
            } else {
                displayErrorMessage(`Invalid file type: ${file.name}`);
            }
        });
    }

    // Validate file types
    function isValidFileType(file) {
        return validFileTypes.includes(file.type);
    }

    // Display selected file in the UI
    function displayFile(file) {
        fileNamePlaceholder.textContent = ''; // Clear the placeholder text

        const fileElement = document.createElement('div');
        fileElement.classList.add('file-item');

        let fileName = file.name;
        if (fileName.length > 50) {
            fileName = `${fileName.substring(0, 50)}...`;
        }

        const fileNameSpan = document.createElement('span');
        fileNameSpan.classList.add('file-name');
        fileNameSpan.textContent = fileName;

        const removeButton = document.createElement('button');
        removeButton.textContent = 'X';
        removeButton.classList.add('remove-file-button');
        removeButton.onclick = function() {
            removeFile(file, fileElement);
        };

        fileElement.appendChild(fileNameSpan);
        fileElement.appendChild(removeButton);
        uploadedFilesContainer.appendChild(fileElement);
    }

    // Remove file from UI and array
    function removeFile(file, fileElement) {
        const index = filesArray.indexOf(file);
        if (index > -1) {
            filesArray.splice(index, 1);
        }
        fileElement.remove();
        toggleProcessButton();

        if (filesArray.length === 0) {
            fileNamePlaceholder.textContent = 'No file selected';
        }
    }

    // Toggle process button based on file array length
    function toggleProcessButton() {
        processButton.style.display = filesArray.length > 0 ? 'block' : 'none';
    }

    // Show loader when processing starts
    function showLoader() {
        loaderContainer.style.display = 'flex';
    }

    // Hide loader when processing completes
    function hideLoader() {
        loaderContainer.style.display = 'none';
    }

    // Display error messages
    function displayErrorMessage(message) {
        const errorMessage = document.createElement('div');
        errorMessage.classList.add('error-message');
        errorMessage.textContent = message;

        uploadArea.appendChild(errorMessage);
        setTimeout(() => errorMessage.remove(), 5000);
    }

    // Process files via AJAX
    function processFiles() {
        const formData = new FormData();
        filesArray.forEach(file => formData.append('bill[]', file));

        const token = generateToken();
        formData.append('token', token);

        fetch('https://admin.onebill.ie/api/readFile', {
            method: 'POST',
            body: formData,
        })
        .then(response => response.json())
        .then(data => {
            hideLoader();  // Hide loader after processing
            handleFileProcessingResponse(data);
        })
        .catch(error => {
            hideLoader();  // Hide loader on error
            console.error('Error processing files:', error);
        });
    }

    // Handle the response from file processing
    function handleFileProcessingResponse(response) {
        if (!response || !response.data) {
            alert("There is missing data on the bill. Please enter details manually.");
            return;
        }

        const customerDetails = response.data.bills.cus_details[0];

        // Storing data in localStorage
        storeCustomerData(customerDetails, response);

        // Redirection logic
        if (customerDetails.services.electricity === "true" || customerDetails.services.gas === "true" || customerDetails.services.broadband === "true") {
            window.location.href = "save3.html"; // Redirect to save3.html
        } else {
            alert("Bill not found, please make sure you have uploaded a valid bill!");
        }
    }

    // Function to store customer data in localStorage
    function storeCustomerData(customerDetails, response) {
        localStorage.setItem('name', customerDetails.details.customer_name);
        localStorage.setItem('eircode', customerDetails.details.address.eircode);
        localStorage.setItem('address', `${customerDetails.details.address.line_1} ${customerDetails.details.address.line_2} ${customerDetails.details.address.city} ${customerDetails.details.address.country} ${customerDetails.details.address.eircode}`);
        localStorage.setItem('electricity', customerDetails.services.electricity);
        localStorage.setItem('gas', customerDetails.services.gas);
        localStorage.setItem('broadband', customerDetails.services.broadband);
        localStorage.setItem('savings', response.integer);
        localStorage.setItem('gastot', response.gasdeg);
        localStorage.setItem('electot', response.elecdeg);
        localStorage.setItem('inttot', response.int);
        localStorage.setItem('elecprovider', response.elecprovider);
        localStorage.setItem('gasprovider', response.gasprovider);
        localStorage.setItem('intprovider', response.intprovider);
        localStorage.setItem('token', generateToken());
    }

    // Generate random token
    function generateToken() {
        return Math.random().toString(36).substring(2);
    }
});
</script>


    <script>
    function showDropdown() {
        const dropdownMenu = document.getElementById('dropdown-menu');
        const input = document.getElementById('eir-code');
        const eircode = input.value;

        if (eircode !== "") {
            $.ajax({
                type: "POST",
                url: "https://admin.onebill.ie/api/getAddress",
                data: { eircode: eircode },
                success: function (data) {
                    const $addressDropdown = $("#dropdown-menu");
                    $addressDropdown.empty();

                    if (data.addresses && data.addresses.length > 0) {
                        $addressDropdown.addClass('show');
                        $.each(data.addresses, function (index, addrObj) {
                            if (addrObj.address) {
                                const newItem = $("<a>", {
                                    class: "dropdown-item",
                                    href: "#",
                                    text: addrObj.address,
                                    id: addrObj.eircode,
                                    "data-eircode": addrObj.eircode,
                                    click: function (event) {
                                        event.preventDefault();
                                        selectOption(event);
                                    }
                                });
                                $addressDropdown.append(newItem);
                            }
                        });
                    } else {
                        $addressDropdown.removeClass('show');
                    }
                },
                error: function () {
                    $("#dropdown-menu").removeClass('show');
                }
            });
        } else {
            dropdownMenu.classList.remove('show');
        }
    }

    function selectOption(event) {
        const selectedEircode = event.target.getAttribute('data-eircode');
        const selectedText = event.target.textContent;
        const eirCodeInput = document.getElementById('eir-code');
        const addressInput = document.getElementById('addressInput');
        const addressDiv = document.getElementById('addressDiv');

        
        eirCodeInput.value = selectedEircode;
        addressInput.value = selectedText;
        addressDiv.style.display = 'block';
        $('#dropdown-menu').removeClass('show');
    }
</script>

<script>
    
    function validateEmail(email) {
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailPattern.test(email);
    }
    function validatePhoneNumber(phone) {
        const phonePattern = /^\d{10}$/;
        return phonePattern.test(phone);
    }
    function goToOnboard() {
        const eirCode = document.getElementById("eir-code").value.trim();
        const addressInput = document.getElementById("addressInput").value.trim();
        const email = document.getElementById("email").value.trim();
        const phone = document.getElementById("phone").value.trim();

        const checkbox1 = document.getElementById("input1").checked;
        const checkbox2 = document.getElementById("input2").checked;
        const checkbox3 = document.getElementById("input3").checked;

        let isError = false;
        clearErrors();
        if (eirCode === "" || addressInput === "") {
            showError('eircodeError', "Please enter your address.");
            isError = true;
        }
        if (email === "" || !validateEmail(email)) {
            showError('emailError', "Please enter a valid email address (e.g., example@example.com).");
            isError = true;
        }
        if (phone === "" || !validatePhoneNumber(phone)) {
            showError('phoneError', "Please enter a valid 10-digit phone number.");
            isError = true;
        }
        if (!checkbox1 && !checkbox2 && !checkbox3) {
            showError('servicesError', "Please select at least one service.");
            isError = true;
        }
        if (isError) return;
        $.ajax({
            type: "POST",
            url: "https://admin.onebill.ie/api/saveData",
            data: { eircode: eirCode, phone: phone },

            success: function (data) {
                console.log("Data saved successfully", data);
                const queryString = `?input1=${checkbox1}&input2=${checkbox2}&input3=${checkbox3}`;
                localStorage.setItem('eircode', eirCode);
                localStorage.setItem('email', email);
                localStorage.setItem('address', addressInput);
                
                

                const params = new URLSearchParams(window.location.search);
                const tok = params.get('reference');
                localStorage.setItem('tok', tok);
                window.localStorage.setItem('services', queryString);
                console.log("Redirecting to", "save-61.html" + queryString);
                window.location.href = "save.html" + queryString;
            },
            error: function (xhr, status, error) {
                console.log("Error saving data", xhr.responseText, status, error);
            }
        });
    }
    function showError(fieldId, message) {
        const errorField = document.getElementById(fieldId);
        errorField.style.display = 'block';
        errorField.innerHTML = message;
    }
    function clearErrors() {
        document.querySelectorAll(".text-danger").forEach((element) => {
            element.style.display = "none";
        });
    }
    document.getElementById("eir-code").addEventListener("input", function() {
        if (this.value.trim() !== "") {
            document.getElementById('eircodeError').style.display = 'none';
        }
    });

    document.getElementById("addressInput").addEventListener("input", function() {
        if (this.value.trim() !== "") {
            document.getElementById('eircodeError').style.display = 'none';
        }
    });

    document.getElementById("email").addEventListener("input", function() {
        if (validateEmail(this.value.trim())) {
            document.getElementById('emailError').style.display = 'none';
        }
    });

    document.getElementById("phone").addEventListener("input", function() {
        if (validatePhoneNumber(this.value.trim())) {
            document.getElementById('phoneError').style.display = 'none';
        }
    });
    document.querySelectorAll("input[name='services']").forEach(function(checkbox) {
        checkbox.addEventListener("change", function() {
            if (document.querySelector("input[name='services']:checked")) {
                document.getElementById('servicesError').style.display = 'none';
            }
        });
    });
</script>


    <script>
        function showEircode() {
            $('html, body').animate({
                scrollTop: $("#scrool-alert").offset().top
            }, 500);
        }
    </script>

     <style>
        .uploaded-files-container {
            margin-top: 15px;
        }

        .file-item {
            padding: 5px;
            border-bottom: 1px solid #ccc;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .remove-file-button {
            background-color: red;
            color: white;
            border: none;
            padding: 2px 8px;
            cursor: pointer;
            border-radius: 4px;
        }

        .remove-file-button:hover {
            background-color: darkred;
        }
    </style>

</body>
</html>
